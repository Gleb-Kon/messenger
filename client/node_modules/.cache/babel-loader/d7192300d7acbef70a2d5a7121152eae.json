{"ast":null,"code":"import { CONNECT_TO_SOCKET } from './actionTypes';\nimport socketIOClient from \"socket.io-client\";\nimport crypto from 'crypto';\nexport default function connectToSocket() {\n  return dispatch => {\n    const socket = socketIOClient(\"localhost:8000\");\n    socket.on(\"connect\", socket => {});\n    const data = {\n      id: localStorage.getItem('id')\n    };\n    socket.on(\"DH_response\", dataRes => {\n      console.log(\"qwqqqqqqqqqqqqqqqqqqqqqqq\", dataRes); //let client = crypto.createDiffieHellman() \n      //DHEndData = {\n      //}\n    });\n    socket.emit('join', {\n      id: data.id\n    });\n    socket.emit(\"DH_begin\", data);\n    socket.emit(\"DH_end\", data);\n    console.log(\"CONNECT SOCKET\", socket);\n    dispatch(connected(socket));\n  };\n}\nexport function connected(socket) {\n  return {\n    type: CONNECT_TO_SOCKET,\n    socket\n  };\n}","map":{"version":3,"sources":["/home/gleban/WORKS/messnger_project/client/src/store/actions/connectToSocket.js"],"names":["CONNECT_TO_SOCKET","socketIOClient","crypto","connectToSocket","dispatch","socket","on","data","id","localStorage","getItem","dataRes","console","log","emit","connected","type"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,eAAlC;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAGA,eAAe,SAASC,eAAT,GAA2B;AACtC,SAAOC,QAAQ,IAAI;AACf,UAAMC,MAAM,GAAGJ,cAAc,CAAC,gBAAD,CAA7B;AACAI,IAAAA,MAAM,CAACC,EAAP,CAAU,SAAV,EAAsBD,MAAD,IAAY,CAAE,CAAnC;AACA,UAAME,IAAI,GAAE;AACRC,MAAAA,EAAE,EAAEC,YAAY,CAACC,OAAb,CAAqB,IAArB;AADI,KAAZ;AAIAL,IAAAA,MAAM,CAACC,EAAP,CAAU,aAAV,EAAyBK,OAAO,IAAI;AAChCC,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCF,OAAzC,EADgC,CAEhC;AACA;AAEA;AACH,KAND;AAOAN,IAAAA,MAAM,CAACS,IAAP,CAAY,MAAZ,EAAoB;AAACN,MAAAA,EAAE,EAAED,IAAI,CAACC;AAAV,KAApB;AACAH,IAAAA,MAAM,CAACS,IAAP,CAAY,UAAZ,EAAwBP,IAAxB;AACAF,IAAAA,MAAM,CAACS,IAAP,CAAY,QAAZ,EAAsBP,IAAtB;AAGAK,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BR,MAA9B;AACAD,IAAAA,QAAQ,CAACW,SAAS,CAACV,MAAD,CAAV,CAAR;AACH,GArBD;AAuBH;AAED,OAAO,SAASU,SAAT,CAAmBV,MAAnB,EAA2B;AAC9B,SAAO;AACHW,IAAAA,IAAI,EAAEhB,iBADH;AAEHK,IAAAA;AAFG,GAAP;AAIH","sourcesContent":["import { CONNECT_TO_SOCKET } from './actionTypes'\n\nimport socketIOClient from \"socket.io-client\";\nimport crypto from 'crypto'\n\n\nexport default function connectToSocket() {\n    return dispatch => {\n        const socket = socketIOClient(\"localhost:8000\");\n        socket.on(\"connect\", (socket) => {});\n        const data ={ \n            id: localStorage.getItem('id')\n        }\n        \n        socket.on(\"DH_response\", dataRes => {\n            console.log(\"qwqqqqqqqqqqqqqqqqqqqqqqq\", dataRes)\n            //let client = crypto.createDiffieHellman() \n            //DHEndData = {\n\n            //}\n        })\n        socket.emit('join', {id: data.id});\n        socket.emit(\"DH_begin\", data);\n        socket.emit(\"DH_end\", data);\n\n        \n        console.log(\"CONNECT SOCKET\", socket)\n        dispatch(connected(socket))\n    }\n    \n}\n\nexport function connected(socket) {\n    return {\n        type: CONNECT_TO_SOCKET,\n        socket\n    }\n}"]},"metadata":{},"sourceType":"module"}